function makeRulers(e,t,n){var r=e.getAttribute("viewBox").split(" "),i=r[2],s=i/t,o=i/n,u=r[3],a=u/t,f=u/n,l="",c=e.querySelectorAll(".ruler"),h,p=document.createElementNS(svgns,"g");for(h=0;h<c.length;h++){if(c[h].parentNode==e){c=c[h];break}}for(h=0;h<=o;h++){l+="M"+h*n+",0v15"}for(h=0;h<=s;h++){l+="M"+h*t+",0v30";var d=document.createElementNS(svgns,"text");d.setAttribute("x",h*t-15);d.setAttribute("y",43);d.textContent=h*t;p.appendChild(d)}for(h=0;h<=f;h++){l+="M0,"+h*n+"h15"}for(h=0;h<=a;h++){l+="M0,"+h*t+"h30";var d=document.createElementNS(svgns,"text");d.setAttribute("x",30);d.setAttribute("y",h*t+5);d.textContent=h*t;p.appendChild(d)}p.setAttribute("class","labels");p.setAttribute("font-size","16px");c.setAttribute("d",l);e.appendChild(p)}function setPreserveAspectRatio(){innerSVG.setAttribute("preserveAspectRatio",alignment+" "+meetOrSlice)}function resetInput(){if(!this.value)this.value=0;setViewboxAttributeValue()}function vbMinXHandler(){setViewboxAttributeValue();updateRulers();vbMinXvalue=this.value;if(vbGuidelinesVisibility.checked)drawXandYLines()}function vbMinYHandler(){setViewboxAttributeValue();updateRulers();vbMinYvalue=this.value;if(vbGuidelinesVisibility.checked)drawXandYLines()}function vbWidthHandler(){updateRangeOutput(this);setViewboxAttributeValue();updateRulers();vbWidthValue=this.value;if(vbGuidelinesVisibility.checked)drawXandYLines()}function vbHeightHandler(){updateRangeOutput(this);setViewboxAttributeValue();updateRulers();vbHeightValue=this.value;if(vbGuidelinesVisibility.checked)drawXandYLines()}function drawXandYLines(){var e=outerSVG.getAttribute("viewBox").split(" "),t=e[2],n=e[3],r=+vbMinXvalue+vbWidthValue/2,i=+vbMinXvalue+ +vbWidthValue,s=+vbMinYvalue+vbHeightValue/2,o=+vbMinYvalue+ +vbHeightValue;midlines.setAttribute("d","M"+[t/2,0,t/2,n]+"M"+[0,n/2,t,n/2]);minx.setAttribute("d","M"+[vbMinXvalue,0,vbMinXvalue,vbHeightValue]);midmaxx.setAttribute("d","M"+[r,0,r,vbHeightValue]+"M"+[i,0,i,vbHeightValue]);miny.setAttribute("d","M"+[0,vbMinYvalue,vbWidthValue,vbMinYvalue]);midmaxy.setAttribute("d","M"+[0,s,vbWidthValue,s]+"M"+[0,o,vbWidthValue,o])}function updateRangeOutput(e){e.nextSibling.textContent=e.value}function updateRulers(){var e=innerSVG.querySelector(".labels");e.parentNode.removeChild(e);makeRulers(innerSVG,100,10)}function setViewboxAttributeValue(){var e=vbMinX.value+" "+vbMinY.value+" "+vbWidth.value+" "+vbHeight.value;innerSVG.setAttribute("viewBox",e)}var outerSVG=document.querySelector(".outer");var innerSVG=document.querySelector(".inner");var svgns="http://www.w3.org/2000/svg";makeRulers(outerSVG,100,10);makeRulers(innerSVG,100,10);var aligmentOptions=document.querySelector(".preserveAspectRatio-options"),meetOrSlice="meet",alignment="xMidYMid",sliceOption=document.getElementById("slice"),meetOption=document.getElementById("meet");sliceOption.onclick=function(){if(this.checked)meetOrSlice="slice";setPreserveAspectRatio()};meetOption.onclick=function(){if(this.checked)meetOrSlice="meet";setPreserveAspectRatio()};aligmentOptions.change=function(){alignment=is.options[this.selectedIndex].value;setPreserveAspectRatio()};var vbGuidelinesVisibility=document.getElementById("guidelines-visibility");vbGuidelinesVisibility.onclick=function(){var e=document.querySelectorAll(".guidelines");if(this.checked){e[0].style.display="";e[1].style.display="";drawXandYLines()}else{e[0].style.display="none";e[1].style.display="none"}};var vbMinX=document.getElementById("min-x"),vbMinY=document.getElementById("min-y"),vbWidth=document.getElementById("viewbox-width"),vbHeight=document.getElementById("viewbox-height");var vbMinXvalue=vbMinX.value,vbMinYvalue=vbMinY.value,vbWidthValue=vbWidth.value,vbHeightValue=vbHeight.value;vbMinX.addEventListener("blur",resetInput,false);vbMinY.addEventListener("blur",resetInput,false);vbMinX.addEventListener("change",vbMinXHandler,false);vbMinX.addEventListener("input",vbMinXHandler,false);vbMinY.addEventListener("change",vbMinYHandler,false);vbMinY.addEventListener("input",vbMinYHandler,false);vbWidth.addEventListener("change",vbWidthHandler,false);vbWidth.addEventListener("input",vbWidthHandler,false);vbHeight.addEventListener("change",vbHeightHandler,false);vbHeight.addEventListener("input",vbHeightHandler,false);var midlines=document.getElementById("midlines"),minx=document.getElementById("minx"),midmaxx=document.getElementById("midmaxx"),miny=document.getElementById("miny"),midmaxy=document.getElementById("midmaxy")